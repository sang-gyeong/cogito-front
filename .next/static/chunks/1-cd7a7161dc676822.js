"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1],{2310:function(e,n,a){a.d(n,{_J:function(){return m},hP:function(){return u},kS:function(){return h}});var r,s=a(77837),i=a(38860),t=a.n(i),o=a(47384),l=a(46392),c=a(73380),d=l.ZP.create({baseURL:"".concat("https://dev.cogito.shop","/api"),timeout:3e3,withCredentials:!0});d.interceptors.request.use((r=(0,s.Z)(t().mark(function e(n){var a;return t().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,o.le)("accessToken",""),n.headers&&a&&(n.headers.Authorization="Bearer ".concat(a)),e.abrupt("return",n);case 3:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}));var u=function(e,n){return c.D2.get("/auth/".concat(e,"/login/token?code=").concat(n)).then(function(e){return null==e?void 0:e.data})},m=function(){return d.post("/auth/reissue").then(function(e){return null==e?void 0:e.data})},h=function(){return c.D2.post("/auth/logout").then(function(){return console.log("로그아웃 되었습니다.")})}},73380:function(e,n,a){a.d(n,{D2:function(){return p},NJ:function(){return v},Rf:function(){return g},We:function(){return x}});var r,s,i=a(77837),t=a(38860),o=a.n(t),l=a(46392),c=a(92083),d=a.n(c),u=a(47384),m=a(2310),h=a(73788),p=l.ZP.create({baseURL:"".concat("https://dev.cogito.shop","/api"),timeout:3e3,withCredentials:!0,headers:{}}),f=(r=(0,i.Z)(o().mark(function e(){var n,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m._J)();case 3:a=e.sent.accessToken,(0,u.D$)("accessToken",a),(0,u.D$)("expiresAt",d()().add(60,"minutes").format("yyyy-MM-DD HH:mm:ss")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),window.localStorage.removeItem("accessToken"),window.localStorage.removeItem("expiresAt");case 13:case"end":return e.stop()}},e,null,[[0,9]])})),function(){return r.apply(this,arguments)});p.interceptors.request.use((s=(0,i.Z)(o().mark(function e(n){var a,r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,u.le)("expiresAt",d()().utc(!0).format("yyyy-MM-DD HH:mm:ss")),!(n.headers&&20>=d()(a).diff(d()(),"minutes"))){e.next=4;break}return e.next=4,f();case 4:return r=(0,u.le)("accessToken",""),n.headers&&r&&(n.headers.Authorization="Bearer ".concat(r)),e.abrupt("return",n);case 7:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),p.interceptors.response.use(function(e){return e},function(e){var n,a,r,s,i,t,o;if((null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.code)==="A008")window.alert("로그인이 필요합니다");else if(["A011","A012"].includes(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.code)){h.ZP.remove("refreshToken"),window.alert("토큰이 만료되어 로그아웃 되었습니다. 다시 로그인 해주세요.");return}console.log("csr axios error : ",e),window.alert(null!==(i=null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(o=t.data)||void 0===o?void 0:o.message)&&void 0!==i?i:null==e?void 0:e.message)});var x=l.ZP.create({baseURL:"".concat("https://dev.cogito.shop","/api"),timeout:3e3,withCredentials:!0,headers:{"Content-type":"application/json"}});x.interceptors.response.use(function(e){return e},function(e){throw console.log("ssr axios error : ",e),Error(e)});var v=function(){return p.get("/tags").then(function(e){return null==e?void 0:e.data})},g=function(){return p.get("/users").then(function(e){return null==e?void 0:e.data})}},63679:function(e,n,a){a.d(n,{K:function(){return r}});var r=(0,a(10344).cn)({key:"userState",default:{userId:NaN,nickname:"",profileImgUrl:null,score:NaN,introduce:null}})},17001:function(e,n,a){a.d(n,{Z:function(){return M}});var r=a(77837),s=a(38860),i=a.n(s),t=a(73380),o=a(63679),l=a(82684),c=a(10344),d=a(28598);function u(){return(0,d.jsx)("footer",{className:"sticky-footer",children:(0,d.jsx)("div",{className:"container my-auto",children:(0,d.jsx)("div",{className:"copyright text-center my-auto",children:(0,d.jsx)("span",{children:"Copyright \xa9 Your Website 2020"})})})})}var m=a(75582),h=a(12691),p=a.n(h),f=a(20185),x=a(9518),v=(0,c.cn)({key:"navShowState",default:!1});function g(){var e=(0,c.FV)(v),n=(0,m.Z)(e,2),a=n[0],r=n[1];return(0,d.jsxs)("ul",{className:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion ".concat(a?"":"toggled"),id:"accordionSidebar",children:[(0,d.jsx)(p(),{href:"/",children:(0,d.jsxs)("a",{className:"sidebar-brand d-flex align-items-center justify-content-center",href:"#",children:[(0,d.jsx)("div",{className:"sidebar-brand-icon rotate-n-15",children:(0,d.jsx)(N,{children:"\uD83D\uDD25"})}),a&&(0,d.jsxs)(b,{className:"",children:["COGITO ",(0,d.jsx)(y,{children:"0.1v"})]})]})}),(0,d.jsx)("hr",{className:"sidebar-divider my-0"}),(0,d.jsx)(j,{children:(0,d.jsx)(p(),{href:"/new",children:(0,d.jsx)(f.Z,{variant:"primary",href:"#",children:"질문하기"})})}),(0,d.jsx)("hr",{className:"sidebar-divider"}),(0,d.jsx)("div",{className:"sidebar-heading",children:"페이지"}),(0,d.jsx)("li",{className:"nav-item active",children:(0,d.jsx)(p(),{href:"/questions",children:(0,d.jsxs)(w,{className:"nav-link",href:"#",children:[(0,d.jsx)("i",{className:"fa-fw"}),(0,d.jsx)("span",{className:"material-symbols-outlined",children:"live_help"}),(0,d.jsx)("span",{className:"label",children:"Questions"})]})})}),(0,d.jsxs)("li",{className:"nav-item",children:[(0,d.jsx)(p(),{href:"#",children:(0,d.jsxs)(w,{className:"nav-link",href:"#",onClick:function(){return alert("아직 개발중인 페이지입니다!")},children:[(0,d.jsx)("i",{className:"fa-fw"}),(0,d.jsx)("span",{className:"material-symbols-outlined",children:"bookmarks"}),(0,d.jsx)("span",{className:"label",children:"Tags"})]})}),(0,d.jsx)(p(),{href:"#",children:(0,d.jsxs)(w,{className:"nav-link",href:"#",onClick:function(){return alert("아직 개발중인 페이지입니다!")},children:[(0,d.jsx)("i",{className:"fa-fw"}),(0,d.jsx)("span",{className:"material-symbols-outlined",children:"group"}),(0,d.jsx)("span",{className:"label",children:"Users"})]})})]}),(0,d.jsx)("hr",{className:"sidebar-divider"}),(0,d.jsx)("div",{className:"sidebar-heading",children:"기타기능"}),(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsxs)(w,{className:"nav-link",href:"#",onClick:function(){return alert("아직 개발중인 페이지입니다!")},children:[(0,d.jsx)("i",{className:"fa-fw"}),(0,d.jsx)("span",{className:"material-symbols-outlined",children:"add_circle"}),(0,d.jsx)("span",{className:"label",children:"기타 기능 (미오픈)"})]})}),(0,d.jsx)("hr",{className:"sidebar-divider d-none d-md-block"}),(0,d.jsx)("div",{className:"text-center d-none d-md-inline",children:(0,d.jsx)("button",{className:"rounded-circle border-0",id:"sidebarToggle",onClick:function(){return r(!a)}})})]})}x.ZP.div.withConfig({displayName:"SideBar__Wrapper",componentId:"sc-ae825e-0"})(["max-width:370px;width:40%;background-color:beige;padding-left:30px;"]);var j=x.ZP.div.withConfig({displayName:"SideBar__ButtonWrapper",componentId:"sc-ae825e-1"})(["height:116px;display:flex;align-items:center;justify-content:center;& > a{background-color:white;color:#303d62;font-size:0.97rem;font-weight:600;width:180px;max-width:80%;height:50px;display:flex;align-items:center;justify-content:center;}"]),w=x.ZP.a.withConfig({displayName:"SideBar__Tab",componentId:"sc-ae825e-2"})(["display:flex;align-items:center;& > .label{position:relative;bottom:2px;left:5px;}"]),N=x.ZP.span.withConfig({displayName:"SideBar__LogoIcon",componentId:"sc-ae825e-3"})(["font-size:1.8rem;"]),b=x.ZP.div.withConfig({displayName:"SideBar__LogoTitle",componentId:"sc-ae825e-4"})(["margin-left:0.5rem;font-size:1.35rem;font-weight:700;"]),y=x.ZP.sup.withConfig({displayName:"SideBar__LogoSup",componentId:"sc-ae825e-5"})(["font-weight:400;font-size:0.01rem;"]),k=a(34376);function S(){var e,n,a=(0,k.useRouter)(),r=(0,l.useState)(null!==(e=null===(n=a.query)||void 0===n?void 0:n.query)&&void 0!==e?e:""),s=r[0],i=r[1],t=function(e){i(e.target.value)},o=function(e){if(e.preventDefault(),!s.trim().length){alert("검색어를 입력해 주세요");return}a.push({pathname:"/questions",query:{query:s}})};return(0,d.jsx)("form",{onSubmit:o,className:"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search",children:(0,d.jsxs)("div",{className:"input-group",children:[(0,d.jsx)("input",{value:s,type:"text",className:"form-control bg-light border-0 small",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2",onChange:t}),(0,d.jsx)("div",{className:"input-group-append",children:(0,d.jsx)("button",{className:"btn btn-primary",type:"submit",children:(0,d.jsx)("i",{className:"fas fa-search fa-sm"})})})]})})}var _=a(60071),D=a.n(_),C=a(90990),Z=a(2310),T=a(73788);function I(){var e,n=(0,l.useState)(!1),a=n[0],s=n[1],t=(0,l.useState)(!1),u=t[0],m=t[1],h=(0,c.sJ)(o.K),f=!!(null!=h&&h.nickname),x=function(){s(!a)},v=(e=(0,r.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.kS)();case 2:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),g=function(){v(),T.ZP.remove("refreshToken"),localStorage.removeItem("accessToken"),window.location.reload()};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("ul",{className:"navbar-nav ml-auto",children:[(0,d.jsxs)("li",{className:"nav-item dropdown no-arrow d-sm-none ".concat(u?"show":""),children:[(0,d.jsx)("a",{onClick:function(){return m(!u)},className:"nav-link dropdown-toggle",href:"#",id:"searchDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:(0,d.jsx)("i",{className:"fas fa-search fa-fw"})}),(0,d.jsx)("div",{className:"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in ".concat(u?"show":""),"aria-labelledby":"searchDropdown",children:(0,d.jsx)("form",{className:"form-inline mr-auto w-100 navbar-search",children:(0,d.jsxs)("div",{className:"input-group",children:[(0,d.jsx)("input",{type:"text",className:"form-control bg-light border-0 small",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2"}),(0,d.jsx)("div",{className:"input-group-append",children:(0,d.jsx)("button",{className:"btn btn-primary",type:"button",children:(0,d.jsx)("i",{className:"fas fa-search fa-sm"})})})]})})})]}),f?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("li",{className:"nav-item dropdown no-arrow mx-1",children:[(0,d.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:(0,d.jsx)("i",{className:"fas fa-bell fa-fw"})}),(0,d.jsxs)("div",{className:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"alertsDropdown",children:[(0,d.jsx)("h6",{className:"dropdown-header",children:"Alerts Center"}),(0,d.jsxs)("a",{className:"dropdown-item d-flex align-items-center",href:"#",children:[(0,d.jsx)("div",{className:"mr-3",children:(0,d.jsx)("div",{className:"icon-circle bg-primary",children:(0,d.jsx)("i",{className:"fas fa-file-alt text-white"})})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"small text-gray-500",children:"December 12, 2019"}),(0,d.jsx)("span",{className:"font-weight-bold",children:"A new monthly report is ready to download!"})]})]}),(0,d.jsxs)("a",{className:"dropdown-item d-flex align-items-center",href:"#",children:[(0,d.jsx)("div",{className:"mr-3",children:(0,d.jsx)("div",{className:"icon-circle bg-success",children:(0,d.jsx)("i",{className:"fas fa-donate text-white"})})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"small text-gray-500",children:"December 7, 2019"}),"$290.29 has been deposited into your account!"]})]}),(0,d.jsxs)("a",{className:"dropdown-item d-flex align-items-center",href:"#",children:[(0,d.jsx)("div",{className:"mr-3",children:(0,d.jsx)("div",{className:"icon-circle bg-warning",children:(0,d.jsx)("i",{className:"fas fa-exclamation-triangle text-white"})})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"small text-gray-500",children:"December 2, 2019"}),"Spending Alert: We ve noticed unusually high spending for your account."]})]}),(0,d.jsx)("a",{className:"dropdown-item text-center small text-gray-500",href:"#",children:"Show All Alerts"})]})]}),(0,d.jsx)("div",{className:"topbar-divider d-none d-sm-block"}),(0,d.jsxs)("li",{className:"nav-item dropdown no-arrow ".concat(a?" show":""),onClick:x,children:[(0,d.jsxs)("a",{className:"nav-link dropdown-toggle",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":a,children:[(0,d.jsx)("span",{className:"mr-2 d-none d-lg-inline text-gray-600 small",children:h.nickname}),(0,d.jsx)(D(),{className:"img-profile rounded-circle",src:C.Z,alt:"profile-image",width:32,height:32})]}),(0,d.jsxs)("div",{className:"dropdown-menu dropdown-menu-right shadow animated--grow-in ".concat(a?" show":""),"aria-labelledby":"userDropdown",children:[(0,d.jsx)(p(),{href:"/my",children:(0,d.jsxs)("a",{className:"dropdown-item",href:"#",children:[(0,d.jsx)("i",{className:"fas fa-user fa-sm fa-fw mr-2 text-gray-400"}),"마이페이지"]})}),(0,d.jsxs)("a",{className:"dropdown-item",href:"#",onClick:g,"data-toggle":"modal","data-target":"#logoutModal",children:[(0,d.jsx)("i",{className:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"로그아웃"]})]})]})]}):(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsx)(p(),{href:"/login",children:(0,d.jsx)("a",{className:"nav-link dark",children:"로그인"})})})]})})}function P(){var e=(0,c.FV)(v),n=(0,m.Z)(e,2),a=n[0],r=n[1];return(0,d.jsxs)("nav",{className:"navbar navbar-expand navbar-light bg-white topbar static-top shadow",children:[(0,d.jsx)("button",{id:"sidebarToggleTop",className:"btn btn-link d-md-none rounded-circle mr-3",onClick:function(){return r(!a)},children:(0,d.jsx)("i",{className:"fa fa-bars"})}),(0,d.jsx)(S,{}),(0,d.jsx)(I,{})]})}var B=a(42280);function A(){return(0,d.jsxs)(L,{children:[(0,d.jsx)(E,{children:"\uD83D\uDD27"}),(0,d.jsx)("span",{style:{fontSize:"0.8rem"},children:"새 기능 오픈 준비중입니다 (뚝딱뚝딱)"})]})}var L=x.ZP.div.withConfig({displayName:"SideWrapper___SideWrapper",componentId:"sc-1480gt2-0"})(["background-color:#eef1f7;min-height:100vh;width:350px;min-width:350px;padding:100px 0;text-align:center;","{width:270px;min-width:270px;}","{display:none;}"],B.B.tablet,B.B.mobile),E=x.ZP.div.withConfig({displayName:"SideWrapper__Content",componentId:"sc-1480gt2-1"})(["font-size:6rem;"]);function M(e){var n,a,s,m=e.children,h=(0,c.sJ)(v);return n=(0,c.Zl)(o.K),a=(0,r.Z)(i().mark(function e(){var a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.D2.get("/users/me").then(function(e){return null==e?void 0:e.data});case 2:n(e.sent);case 4:case"end":return e.stop()}},e)})),(0,l.useEffect)(function(){(function(){a.apply(this,arguments)})()},[]),(0,d.jsxs)("div",{className:h?"sidebar-toggled":"",children:[(0,d.jsxs)("div",{id:"wrapper",children:[(0,d.jsx)(g,{}),(0,d.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[(0,d.jsxs)("div",{id:"content",children:[(0,d.jsx)(P,{}),(0,d.jsxs)(W,{children:[(0,d.jsx)(q,{children:m}),(0,d.jsx)(A,{})]})]}),(0,d.jsx)(u,{})]})]}),(0,d.jsx)("a",{className:"scroll-to-top rounded",href:"#page-top",children:(0,d.jsx)("i",{className:"fas fa-angle-up"})})]})}var W=x.ZP.div.withConfig({displayName:"Layout__MainWrapper",componentId:"sc-1cw9f21-0"})(["display:flex;"]),q=x.ZP.div.withConfig({displayName:"Layout__Main",componentId:"sc-1cw9f21-1"})(["width:70%;max-width:960px;margin:0 auto;","{width:100%;}"],B.B.tablet)},42280:function(e,n,a){a.d(n,{B:function(){return i}});var r={MOBILE:767,TABLET:1024,DESKTOP:1439},s=function(e){return"\n  @media (max-width: ".concat(e,"px)\n")},i={tablet:s(r.TABLET),mobile:s(r.MOBILE),desktop:s(r.DESKTOP)}},90990:function(e,n){n.Z={src:"/_next/static/media/undraw_profile.017101fc.svg",height:108,width:108}}}]);