(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[378],{3868:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return p}});var r=t(77837),o=t(38860),u=t.n(o),s=t(62083),i=t(9518),c=t(73380),a=t(62564),l=t(28598),f={title:"질문있습니다",content:"질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다",files:["file1","file2"],tags:["태그1","태그2"]},d={title:"수정버전",content:"질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다질문있습니다",files:["file1","file2"],tags:["태그1","태그2"]};function p(){var n,e,t,o=(n=(0,r.Z)(u().mark(function n(){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.qb)(f);case 2:case"end":return n.stop()}},n)})),function(){return n.apply(this,arguments)}),s=(e=(0,r.Z)(u().mark(function n(){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.D2.delete("/posts/".concat(1));case 2:case"end":return n.stop()}},n)})),function(){return e.apply(this,arguments)}),i=(t=(0,r.Z)(u().mark(function n(){return u().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.YO)(2,d);case 2:case"end":return n.stop()}},n)})),function(){return t.apply(this,arguments)});return(0,l.jsxs)("div",{children:[(0,l.jsx)(h,{onClick:o,children:"게시물 생성"}),(0,l.jsx)(h,{onClick:s,children:"게시물 삭제"}),(0,l.jsx)(h,{onClick:i,children:"게시물 수정"}),(0,l.jsx)(h,{children:"댓글 생성"}),(0,l.jsx)(h,{children:"댓글 삭제"}),(0,l.jsx)(h,{children:"댓글 수정"})]})}p.getLayout=function(n){return(0,l.jsx)(s.Z,{children:n})};var h=i.ZP.button.withConfig({displayName:"test__Button",componentId:"sc-w5wmbw-0"})(["border:1px solid gray;background-color:beige;padding:2px 4px;"])},2310:function(n,e,t){"use strict";t.d(e,{_:function(){return u},h:function(){return o}});var r=t(73380),o=function(n,e){return r.D2.get("/auth/".concat(n,"/login/token?code=").concat(e)).then(function(n){return null==n?void 0:n.data})},u=function(){return r.D2.get("/auth/reissue").then(function(n){return null==n?void 0:n.data})}},73380:function(n,e,t){"use strict";t.d(e,{D2:function(){return p},NJ:function(){return v},Rf:function(){return g},We:function(){return h}});var r,o=t(77837),u=t(38860),s=t.n(u),i=t(46392),c=t(92083),a=t.n(c),l=t(73788),f=t(47384),d=t(2310),p=i.ZP.create({baseURL:"".concat("https://dev.cogito.shop","/api"),timeout:3e3,withCredentials:!0,headers:{"Content-type":"application/json"}});p.interceptors.request.use((r=(0,o.Z)(s().mark(function n(e){var t,r,o,u;return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=l.ZP.load("refreshToken"),r=(0,f.le)("expiresAt",a()().format("yyyy-MM-DD HH:mm:ss")),!(0>a()(r).diff(a()())&&t&&e.headers)){n.next=9;break}return e.headers.Authorization="Bearer ".concat(t),n.next=6,(0,d._)();case 6:o=n.sent,console.log("-----requestInterceptor reissueToken response : ",o),o&&((0,f.D$)("accessToken",o.accessToken),(0,f.D$)("expiresAt",a()().add(30,"minutes").format("yyyy-MM-DD HH:mm:ss")),l.ZP.save("refreshToken",o.refreshToken,{httpOnly:!0}));case 9:return u=(0,f.le)("accessToken",""),console.log("-----requestInterceptor refreshToken : ",t),console.log("-----requestInterceptor accessToken : ",u),e.headers&&u&&(e.headers.Authorization="Bearer ".concat(u)),n.abrupt("return",e);case 14:case"end":return n.stop()}},n)})),function(n){return r.apply(this,arguments)})),p.interceptors.response.use(function(n){return n},function(n){var e,t,r,o,u;["A008","A011","A012","A013"].includes(null==n?void 0:null===(e=n.response)||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.code)&&(l.ZP.remove("refreshToken"),null==globalThis||globalThis.localStorage.clear()),console.log("csr axios error : ",n),window.alert(null!==(r=null==n?void 0:null===(o=n.response)||void 0===o?void 0:null===(u=o.data)||void 0===u?void 0:u.message)&&void 0!==r?r:null==n?void 0:n.message)});var h=i.ZP.create({baseURL:"".concat("https://dev.cogito.shop","/api"),timeout:3e3,withCredentials:!0,headers:{"Content-type":"application/json"}});h.interceptors.response.use(function(n){return n},function(n){throw console.log("ssr axios error : ",n),Error(n)});var v=function(){return p.get("/tags").then(function(n){return null==n?void 0:n.data})},g=function(){return p.get("/users").then(function(n){return null==n?void 0:n.data})}},62564:function(n,e,t){"use strict";t.d(e,{Jq:function(){return o},YO:function(){return i},qb:function(){return s},u_:function(){return u}});var r=t(73380),o=function(n){var e=n.query,t=n.page;return r.We.get("/posts",{params:{query:e,page:t}}).then(function(n){return null==n?void 0:n.data})},u=function(n){return r.We.get("/posts/".concat(n)).then(function(n){return null==n?void 0:n.data})},s=function(n){return r.D2.post("/posts",n).then(function(n){return null==n?void 0:n.data})},i=function(n,e){return r.D2.patch("/posts/".concat(n),e)}},91185:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/test",function(){return t(3868)}])}},function(n){n.O(0,[981,217,83,774,888,179],function(){return n(n.s=91185)}),_N_E=n.O()}]);