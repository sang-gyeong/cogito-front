(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[971],{30766:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return E}});var i=t(17249),r=t(77837),o=t(21831),a=t(38860),c=t.n(a),s=t(73216),u=t(82684),l=t(82275),p=t(10344),d=t(9518),f=t(91699),h=t(28598);function m(){return(0,h.jsxs)(g,{children:["Cogito에 오신것을 환영합니다!",(0,h.jsx)("br",{})," 개발과 관련된 모든 의견 및 질문은 환영입니다. ",(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),"의견 공유의 목적이 아닌 비방성, 홍보성 목적의 글은 예고없이 삭제될 수 있으니 주의해주세요!",(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),"자세한 사항은 코기토 블로그를 확인해주세요."]})}var g=d.ZP.div.withConfig({displayName:"guideModal__Wrapper",componentId:"sc-1hf2mhz-0"})(["width:100%;display:flex;flex-direction:column;align-items:center;gap:10px;"]),x=t(38957);t(79186),t(42708);var w,j=(0,t(96540).ZF)({apiKey:"AIzaSyBFIuelg9CP4P2BCsDauLr0HNNWqjJPLoI",authDomain:"cogito-cde5b.firebaseapp.com",projectId:"cogito-cde5b",storageBucket:"cogito-cde5b.appspot.com",messagingSenderId:"179904954165",appId:"1:179904954165:web:f182a9e0fccf24f708167c",measurementId:"G-KZZNVQ4H2C"}),_=(0,x.cF)(j),v=t(60071),y=t.n(v),b=t(47384),N=t(34376),C=t(62564),Z=t(46152),I="show-guide-modal";function k(){var e=(0,N.useRouter)(),n=(0,u.useState)(""),t=n[0],i=n[1],a=(0,u.useState)([]),d=a[0],g=a[1],w=(0,u.useState)(""),j=w[0],v=w[1],k=(0,u.useState)(0),E=k[0],G=k[1],H=(0,p.Zl)(f.e),M=function(e){if(e.preventDefault(),d.length>=7){alert("파일은 최대 ".concat(7,"개까지 업로드할 수 있습니다."));return}var n=e.target.files;if(n){var t=(0,x.iH)(_,"files/".concat(n[0].name));(0,x.B0)(t,n[0]).on("state_changed",function(e){G(Math.round(e.bytesTransferred/e.totalBytes*100))},function(e){alert("이미지 업로드에 실패했습니다."),console.log(e)},function(){e.target.value="",(0,x.Jt)(t).then(function(e){g([].concat((0,o.Z)(d),[e]))})})}};(0,u.useEffect)(function(){(0,b.St)(I)||(H({isShow:!0,component:(0,h.jsx)(m,{}),title:"Guide",closeCallBack:function(){},config:{size:"lg",closeButton:!0,centered:!1}}),(0,b.D9)(I,"true"))},[H]);var J,L=function(){window.confirm("글 작성을 취소하시겠습니까? 작성된 내용은 저장되지 않습니다.")&&e.back()},O=(J=(0,r.Z)(c().mark(function n(){var i;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,C.qb)(j,null!=t?t:"",d,[]);case 2:n.sent&&e.push("/");case 4:case"end":return n.stop()}},n)})),function(){return J.apply(this,arguments)}),K=function(){O()},U=function(e){v(e.target.value)};return(0,h.jsxs)(W,{children:[(0,h.jsx)(B,{children:"질문 글 작성하기"}),(0,h.jsx)(T,{type:"text",value:j,placeholder:"제목을 입력하세요",onChange:U}),(0,h.jsx)(Z.M,{style:{width:"100%"},preview:"edit",value:t,onChange:i,previewOptions:{}}),(0,h.jsx)(D,{children:"⬇ 아래에 미리보기가 나옵니다"}),(0,h.jsx)(Z.D,{style:{width:"100%",backgroundColor:"transparent",fontSize:"0.95rem",color:"#6f7d95",lineHeight:"1.4rem"},source:t}),(0,h.jsxs)(S,{children:[(0,h.jsx)(D,{children:"⇪ 이미지 첨부 (최대 ".concat(7,"개)")}),(0,h.jsx)(z,{type:"file",accept:"image/*",onChange:M}),(0,h.jsx)(s.Z,{now:E,label:"".concat(E,"%")}),(0,h.jsx)(P,{children:d.map(function(e,n){return(0,h.jsxs)(q,{onClick:function(){return g(d.filter(function(e,t){return t!==n}))},children:[(0,h.jsx)(y(),{src:e,alt:"upload",width:120,height:120}),"x"]},e)})})]}),(0,h.jsxs)(F,{children:[(0,h.jsx)(l.Z,{variant:"outline-secondary",size:"lg",onClick:L,children:"취소"}),(0,h.jsx)(l.Z,{variant:"primary",size:"lg",onClick:K,children:"제출하기"})]})]})}var P=d.ZP.div.withConfig({displayName:"NewTemplate__FilesWrapper",componentId:"sc-1j5coaq-0"})(["display:flex;gap:10px;margin-top:1rem;"]),q=d.ZP.div.withConfig({displayName:"NewTemplate__FileWrapper",componentId:"sc-1j5coaq-1"})(["cursor:pointer;color:transparent;&:hover{color:black;}"]),T=d.ZP.input.withConfig({displayName:"NewTemplate__TitleInput",componentId:"sc-1j5coaq-2"})(["width:100%;height:2rem;padding-left:0.5rem;border:1px solid lightgray;outline:none;font-size:0.9rem;"]),z=d.ZP.input.withConfig({displayName:"NewTemplate__UploadInput",componentId:"sc-1j5coaq-3"})(["font-size:0.95rem;margin-bottom:1rem;cursor:pointer;"]),S=d.ZP.div.withConfig({displayName:"NewTemplate__UploadWrapper",componentId:"sc-1j5coaq-4"})(["width:100%;margin-top:24px;"]),D=d.ZP.p.withConfig({displayName:"NewTemplate__SubText",componentId:"sc-1j5coaq-5"})(["font-size:0.8rem;color:#517495;text-align:center;margin:20px 0;"]),B=d.ZP.p.withConfig({displayName:"NewTemplate__Title",componentId:"sc-1j5coaq-6"})(["font-size:1.5rem;font-weight:600;text-align:left;width:100%;"]),W=d.ZP.div.withConfig({displayName:"NewTemplate__Wrapper",componentId:"sc-1j5coaq-7"})(["color:#303d62;width:100%;padding:30px;display:flex;flex-direction:column;align-items:center;gap:20px;"]),F=d.ZP.div.withConfig({displayName:"NewTemplate__ButtonWrapper",componentId:"sc-1j5coaq-8"})(["display:flex;gap:12px;"]);function E(){return(0,h.jsx)(k,{})}E.getLayout=function(e){return(0,h.jsx)(i.Z,{hasSide:!1,children:e})}},62564:function(e,n,t){"use strict";t.d(n,{Bh:function(){return u},Jq:function(){return r},n9:function(){return s},qb:function(){return a},tz:function(){return c},u_:function(){return o}});var i=t(73380),r=function(e){var n=e.query,t=e.page,r=e.size;return i.W.get("/posts",{params:{query:n,page:t,size:r}}).then(function(e){return null==e?void 0:e.data})},o=function(e){return i.W.get("/posts/".concat(e)).then(function(e){return null==e?void 0:e.data})},a=function(e,n,t,r){return i.D.post("/posts",{title:e,content:n,files:t,tags:r}).then(function(e){return null==e?void 0:e.data})},c=function(e){return i.D.delete("/posts/".concat(e))},s=function(e){return i.D.patch("/posts/".concat(e,"/like"))},u=function(e){return i.D.patch("/posts/".concat(e,"/dislike"))}},46152:function(e,n,t){"use strict";t.d(n,{D:function(){return s},M:function(){return c}});var i=t(51774),r=t.n(i),o=t(85674),a=t(28598),c=r()(function(){return Promise.all([t.e(522),t.e(44)]).then(t.bind(t,57044))},{ssr:!1,loading:function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.Z,{height:100})})},loadableGenerated:{webpack:function(){return[57044]}}}),s=r()(function(){return Promise.all([t.e(522),t.e(621)]).then(t.bind(t,82621))},{ssr:!1,loading:function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.Z,{count:4})})},loadableGenerated:{webpack:function(){return[82621]}}})},10877:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/new",function(){return t(30766)}])}},function(e){e.O(0,[228,13,994,570,217,720,125,253,249,774,888,179],function(){return e(e.s=10877)}),_N_E=e.O()}]);