(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[134],{19849:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return em},default:function(){return ef}});var r=n(34376),o=n(17249),i=n(82394),a=n(77837),c=n(38860),s=n.n(c),p=n(10344),d=n(9518),l=n(90990),u=n(62564),m=n(91699),f=n(39720),h="getPostById",g=n(55472),x=n(20491),y=n(60071),b=n.n(y),j=n(91835),w=n(82684),v=n(28598);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){var t=(0,j.Z)({},e);return(0,v.jsx)(P,{children:(0,v.jsx)(b(),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({layout:"fill",className:"autoImage"},t))})}var P=d.ZP.div.withConfig({displayName:"AutoHeightImage__AutoHeightImageWrapper",componentId:"sc-g76m3p-0"})(["width:100%;& > span{position:unset !important;& .autoImage{object-fit:contain !important;position:relative !important;height:auto !important;}}"]),I=n(82275),O=n(43987),Z=n(82839),k=n(73380),N=function(e){var t=e.postId,n=e.parentId,r=e.content;return k.D.post("/comments",{postId:t,parentId:n,content:r}).then(function(e){return null==e?void 0:e.data})},B=n(46152);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var T={fontSize:"0.95rem",color:"#6f7d95",lineHeight:"1.4rem",padding:"0.5rem"};function S(e){var t,n,r,o,c,d,u,f,x,y,j,_,C=e.isMe,P=e.postId,S=e.commentResponses,X=(0,w.useState)(""),J=X[0],V=X[1],Y=(n=(0,O.NL)(),(0,Z.D)((r=(0,a.Z)(s().mark(function e(t){var n,r,o;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,r=t.parentId,o=t.content,e.next=3,N({postId:n,parentId:r,content:o});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),{onSuccess:function(){n.invalidateQueries({queryKey:[h,{id:P}]})}})).mutate,$=(c=(0,O.NL)(),(0,Z.D)({mutationFn:(d=(0,a.Z)(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var r;return n=t.commentId,e.next=3,r=n,k.D.delete("/comments/".concat(r,"/status"));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return d.apply(this,arguments)}),onSuccess:function(){c.invalidateQueries({queryKey:[h,{id:P}]})}})).mutate,ee=(f=(0,O.NL)(),(0,Z.D)({mutationFn:(x=(0,a.Z)(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var r;return n=t.commentId,e.next=3,r=n,k.D.patch("/comments/".concat(r,"/like"));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return x.apply(this,arguments)}),onSuccess:function(){f.invalidateQueries({queryKey:[h,{id:P}]})}})).mutate,et=(j=(0,O.NL)(),(0,Z.D)({mutationFn:(_=(0,a.Z)(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var r;return n=t.commentId,e.next=3,r=n,k.D.patch("/comments/".concat(r,"/dislike"));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return _.apply(this,arguments)}),onSuccess:function(){j.invalidateQueries({queryKey:[h,{id:P}]})}})).mutate;(0,p.Zl)(m.e);var en=function(){window.confirm("신고하시겠습니까?")},er=function(e,t){var n=t.isMe,r=t.commentId;if(n){window.alert("자기 자신의 댓글에는 ".concat(e?"추천":"비추천","할 수 없습니다"));return}e?ee({commentId:r}):et({commentId:r})},eo=function(e){window.confirm("정말로 삭제하시겠습니까?")&&$({commentId:e})},ei=function(){if(!J){alert("댓글을 입력해주세요.");return}Y({postId:P,parentId:null,content:J})};return(0,v.jsxs)(L,{children:[S.length>0?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(M,{children:["\uD83D\uDD25 ",S.length,"개의 답변이 달렸습니다"]}),S.map(function(e,t){var n;return(0,v.jsxs)(A,{children:[(0,v.jsxs)(R,{children:[(0,v.jsx)("button",{onClick:function(){return er(!0,e)},children:"▲"}),(0,v.jsxs)("span",{children:[" ",e.likeCnt," "]}),(0,v.jsx)("button",{onClick:function(){return er(!1,e)},children:"▼"})]}),(0,v.jsxs)(F,{children:[(0,v.jsx)(B.D,{source:e.content,style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({backgroundColor:"transparent",marginBottom:"2rem"},T)}),(0,v.jsx)(q,{children:(0,v.jsx)(z,{children:e.isMe?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(W,{children:"수정"}),(0,v.jsx)(W,{onClick:function(){return eo(e.commentId)},children:"삭제"})]}):(0,v.jsx)(W,{onClick:en,children:"신고"})})}),(0,v.jsxs)(U,{children:[(0,v.jsxs)(Q,{children:[(0,v.jsxs)(H,{children:[(0,v.jsx)(b(),{src:null!==(n=e.profileImgUrl)&&void 0!==n?n:l.Z,alt:"profile-image",width:30,height:30}),(0,v.jsx)(K,{children:(0,g.h)(e.score)})]}),e.nickname]}),"|",(0,v.jsx)(G,{children:e.createdAt})]})]})]},t)})]}):(0,v.jsx)(E,{children:"작성된 댓글이 없습니다"}),!C&&(0,v.jsxs)("div",{style:{marginTop:"32px"},children:[(0,v.jsx)(M,{children:"\uD83D\uDD25 나의 답변"}),(0,v.jsx)(B.M,{style:{width:"100%",marginTop:"20px"},preview:"edit",value:J,onChange:V,previewOptions:{}}),(0,v.jsx)(B.D,{source:J,style:{backgroundColor:"transparent",fontSize:"0.98rem",marginBottom:"2rem"}}),(0,v.jsx)("span",{style:{textAlign:"right"},children:(0,v.jsx)(I.Z,{variant:"primary",onClick:ei,children:"답변 제출하기"})})]})]})}var W=d.ZP.button.withConfig({displayName:"BoardComments__Button",componentId:"sc-nt7b02-0"})(["border:none;background-color:transparent;font-size:0.8rem;color:black;"]),z=d.ZP.div.withConfig({displayName:"BoardComments__ButtonWrapper",componentId:"sc-nt7b02-1"})(["display:flex;gap:4px;text-align:right;"]),E=d.ZP.div.withConfig({displayName:"BoardComments__EmptyView",componentId:"sc-nt7b02-2"})(["border:1px solid lightslategray;width:100%;color:lightslategray;border-radius:10px;text-align:center;padding:20px;font-size:0.85rem;"]),q=d.ZP.div.withConfig({displayName:"BoardComments__CommentButtonWrapper",componentId:"sc-nt7b02-3"})(["width:100%;text-align:right;display:flex;justify-content:flex-end;"]),F=d.ZP.div.withConfig({displayName:"BoardComments__CommentContentWrapper",componentId:"sc-nt7b02-4"})(["display:flex;flex-direction:column;width:100%;border-bottom:1px solid lightgray;padding:0.5rem 0 1rem 0;"]),M=d.ZP.h5.withConfig({displayName:"BoardComments__SubTitle",componentId:"sc-nt7b02-5"})(["font-weight:600;font-size:1.3rem;"]),A=d.ZP.div.withConfig({displayName:"BoardComments__Comment",componentId:"sc-nt7b02-6"})(["display:flex;"]),L=d.ZP.div.withConfig({displayName:"BoardComments__CommentWrapper",componentId:"sc-nt7b02-7"})(["display:flex;flex-direction:column;gap:20px;margin-top:64px;padding-top:30px;border-top:1px solid lightgray;"]),R=d.ZP.div.withConfig({displayName:"BoardComments__ScoreWrapper",componentId:"sc-nt7b02-8"})(["justify-content:flex-start;align-items:center;width:65px;font-size:1.3rem;height:100%;font-weight:600;display:flex;flex-direction:column;& > button{border:none;background-color:transparent;color:lightslategray;}"]),H=d.ZP.div.withConfig({displayName:"BoardComments__ProfileImage",componentId:"sc-nt7b02-9"})(["border-radius:50%;width:27px;height:27px;box-shadow:px 0px 1px gray;position:relative;margin-right:8px;"]),K=d.ZP.span.withConfig({displayName:"BoardComments__ScoreImage",componentId:"sc-nt7b02-10"})(["position:absolute;right:-8px;bottom:-3px;"]),Q=d.ZP.div.withConfig({displayName:"BoardComments__ProfileWrapper",componentId:"sc-nt7b02-11"})(["display:flex;align-items:center;justify-content:flex-end;gap:4px;"]),U=d.ZP.div.withConfig({displayName:"BoardComments__BottomWrapper",componentId:"sc-nt7b02-12"})(["display:flex;gap:10px;align-items:center;justify-content:flex-end;font-size:0.83rem;"]),G=d.ZP.span.withConfig({displayName:"BoardComments__CreatedAt",componentId:"sc-nt7b02-13"})([""]);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var J={fontSize:"0.95rem",color:"#6f7d95",lineHeight:"1.4rem",padding:"0.5rem"};function V(e){var t,n=e.id,r=(t=n,(0,f.a)([h,{id:t}],function(){return(0,u.u_)(t)})),o=r.data,c=r.refetch;(0,p.Zl)(m.e);var d,y=function(){window.confirm("신고하시겠습니까?")},j=(d=(0,a.Z)(s().mark(function e(t){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=3;break}return window.alert("자기 자신의 글에는 ".concat(t?"추천":"비추천","할 수 없습니다")),e.abrupt("return");case 3:if(!t){e.next=8;break}return e.next=6,(0,u.n9)(n);case 6:e.next=10;break;case 8:return e.next=10,(0,u.Bh)(n);case 10:c();case 11:case"end":return e.stop()}},e)})),function(e){return d.apply(this,arguments)});if(!o)return(0,v.jsx)(v.Fragment,{children:"Loading"});var w,_=o.commentResponses,P=o.content,I=o.createdAt,O=o.files,Z=o.likeCnt,k=o.isMe,N=o.nickname,D=o.postId,T=o.profileImgUrl,W=o.score,z=o.tags,E=o.title,q=function(){},F=(w=(0,a.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("정말로 삭제하시겠습니까?")){e.next=3;break}return e.next=3,(0,u.tz)(D);case 3:case"end":return e.stop()}},e)})),function(){return w.apply(this,arguments)});return(0,v.jsxs)(et,{children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(en,{children:E}),(0,v.jsxs)(er,{children:[(0,v.jsx)(eo,{children:null!=I?I:"2023-01-26 03:22:49"}),(0,v.jsx)(ee,{children:k?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)($,{onClick:q,children:"수정"}),(0,v.jsx)($,{onClick:F,children:"삭제"})]}):(0,v.jsx)($,{onClick:y,children:"신고"})})]})]}),(0,v.jsxs)(ei,{children:[(0,v.jsxs)(ea,{children:[(0,v.jsx)("button",{onClick:function(){return j(!0)},children:"▲"}),(0,v.jsxs)("span",{children:[" ",Z," "]}),(0,v.jsx)("button",{onClick:function(){return j(!1)},children:"▼"})]}),(0,v.jsxs)(es,{children:[(0,v.jsx)(B.D,{source:P,style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({backgroundColor:"transparent",marginBottom:"2rem"},J)}),(0,v.jsx)(Y,{children:O.map(function(e){return(0,v.jsx)(C,{src:e,alt:"upload-img",placeholder:"blur",blurDataURL:e},e)})}),(0,v.jsx)(ec,{children:z.map(function(e,t){return(0,v.jsx)(x.Z,{tag:e},t)})}),(0,v.jsx)(eu,{children:(0,v.jsxs)(el,{children:[(0,v.jsxs)(ep,{children:[(0,v.jsx)(b(),{src:null!=T?T:l.Z,alt:"profile-image",width:30,height:30}),(0,v.jsx)(ed,{children:(0,g.h)(W)})]}),N]})})]})]}),(0,v.jsx)(S,{isMe:k,postId:D,commentResponses:_})]})}var Y=d.ZP.div.withConfig({displayName:"BoardTemplate__FilesWrapper",componentId:"sc-pc1m6o-0"})(["display:flex;flex-direction:column;gap:12px;"]),$=d.ZP.button.withConfig({displayName:"BoardTemplate__Button",componentId:"sc-pc1m6o-1"})(["border:none;background-color:transparent;font-size:0.8rem;color:black;"]),ee=d.ZP.div.withConfig({displayName:"BoardTemplate__ButtonWrapper",componentId:"sc-pc1m6o-2"})(["display:flex;gap:4px;text-align:right;"]),et=d.ZP.div.withConfig({displayName:"BoardTemplate__Wrapper",componentId:"sc-pc1m6o-3"})(["display:flex;flex-direction:column;padding:30px;color:#303d62;width:100%;height:100%;"]),en=d.ZP.p.withConfig({displayName:"BoardTemplate__Title",componentId:"sc-pc1m6o-4"})(["font-size:1.8rem;font-weight:600;"]),er=d.ZP.div.withConfig({displayName:"BoardTemplate__SubTitleArea",componentId:"sc-pc1m6o-5"})(["display:flex;width:100%;border-bottom:1px solid lightgray;padding-bottom:0.5rem;justify-content:space-between;"]),eo=d.ZP.span.withConfig({displayName:"BoardTemplate__SubText",componentId:"sc-pc1m6o-6"})([""]),ei=d.ZP.div.withConfig({displayName:"BoardTemplate__MiddleWrapper",componentId:"sc-pc1m6o-7"})(["display:flex;margin-top:12px;"]),ea=d.ZP.div.withConfig({displayName:"BoardTemplate__ScoreWrapper",componentId:"sc-pc1m6o-8"})(["justify-content:flex-start;align-items:center;width:65px;font-size:1.3rem;height:100%;font-weight:600;display:flex;flex-direction:column;& > button{border:none;background-color:transparent;color:lightslategray;}"]),ec=d.ZP.div.withConfig({displayName:"BoardTemplate__TagWrapper",componentId:"sc-pc1m6o-9"})(["display:flex;gap:4px;"]),es=d.ZP.div.withConfig({displayName:"BoardTemplate__ContentWrapper",componentId:"sc-pc1m6o-10"})(["width:100%;display:flex;gap:12px;flex-direction:column;height:100%;"]),ep=d.ZP.div.withConfig({displayName:"BoardTemplate__ProfileImage",componentId:"sc-pc1m6o-11"})(["border-radius:50%;width:27px;height:27px;box-shadow:px 0px 1px gray;position:relative;margin-right:8px;"]),ed=d.ZP.span.withConfig({displayName:"BoardTemplate__ScoreImage",componentId:"sc-pc1m6o-12"})(["position:absolute;right:-8px;bottom:-3px;"]),el=d.ZP.div.withConfig({displayName:"BoardTemplate__ProfileWrapper",componentId:"sc-pc1m6o-13"})(["display:flex;align-items:center;justify-content:flex-end;gap:4px;"]),eu=d.ZP.div.withConfig({displayName:"BoardTemplate__BottomWrapper",componentId:"sc-pc1m6o-14"})(["display:flex;gap:10px;align-items:center;justify-content:flex-end;font-size:0.8rem;"]),em=!0;function ef(){var e=Number((0,r.useRouter)().query.id);return(0,v.jsx)(V,{id:e})}ef.getLayout=function(e){return(0,v.jsx)(o.Z,{hasSide:!0,children:e})}},62564:function(e,t,n){"use strict";n.d(t,{Bh:function(){return p},Jq:function(){return o},n9:function(){return s},qb:function(){return a},tz:function(){return c},u_:function(){return i}});var r=n(73380),o=function(e){var t=e.query,n=e.page;return r.W.get("/posts",{params:{query:t,page:n}}).then(function(e){return null==e?void 0:e.data})},i=function(e){return r.W.get("/posts/".concat(e)).then(function(e){return null==e?void 0:e.data})},a=function(e,t,n,o){return r.D.post("/posts",{title:e,content:t,files:n,tags:o}).then(function(e){return null==e?void 0:e.data})},c=function(e){return r.D.delete("/posts/".concat(e))},s=function(e){return r.D.patch("/posts/".concat(e,"/like"))},p=function(e){return r.D.patch("/posts/".concat(e,"/dislike"))}},20491:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9518),o=n(28598);function i(e){var t=e.tag;return(0,o.jsx)(a,{children:t})}var a=r.ZP.span.withConfig({displayName:"Tag",componentId:"sc-1f9tioe-0"})(["background-color:cadetblue;color:white;font-size:0.7rem;padding:3px 9px;border-radius:9px;margin-right:8px;"])},46152:function(e,t,n){"use strict";n.d(t,{D:function(){return s},M:function(){return c}});var r=n(51774),o=n.n(r),i=n(85674),a=n(28598),c=o()(function(){return Promise.all([n.e(522),n.e(44)]).then(n.bind(n,57044))},{ssr:!1,loading:function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.Z,{height:100})})},loadableGenerated:{webpack:function(){return[57044]}}}),s=o()(function(){return Promise.all([n.e(522),n.e(621)]).then(n.bind(n,82621))},{ssr:!1,loading:function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.Z,{count:4})})},loadableGenerated:{webpack:function(){return[82621]}}})},55472:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var r=function(e){return e>=50?"\uD83E\uDD47":e>=30?"\uD83E\uDD48":"\uD83E\uDD49"}},64392:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/questions/[id]",function(){return n(19849)}])}},function(e){e.O(0,[228,13,994,217,858,619,249,774,888,179],function(){return e(e.s=64392)}),_N_E=e.O()}]);