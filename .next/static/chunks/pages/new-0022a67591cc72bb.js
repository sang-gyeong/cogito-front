(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[971],{30766:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return L}});var o=t(34376),i=t(82684),r=t(10344),a=t(63679),c=t(17001),s=t(77837),l=t(21831),u=t(38860),p=t.n(u),d=t(73216),f=t(51774),h=t.n(f),g=t(20185),m=t(85674),w=t(9518),x=t(91699),j=t(28598);function v(){return(0,j.jsxs)(_,{children:["Cogito에 오신것을 환영합니다! 개발과 관련된 모든 의견 및 질문은 환영입니다. ",(0,j.jsx)("br",{}),"의견 공유의 목적이 아닌 비방성, 홍보성 목적의 글은 예고없이 삭제될 수 있으니 주의해주세요!",(0,j.jsx)("br",{}),"자세한 사항은 코기토 블로그를 확인해주세요."]})}var _=w.ZP.div.withConfig({displayName:"guideModal__Wrapper",componentId:"sc-1hf2mhz-0"})(["width:100%;display:flex;flex-direction:column;align-items:center;gap:10px;"]),b=t(38957);t(79186),t(42708);var y,N=(0,t(96540).ZF)({apiKey:"AIzaSyBFIuelg9CP4P2BCsDauLr0HNNWqjJPLoI",authDomain:"cogito-cde5b.firebaseapp.com",projectId:"cogito-cde5b",storageBucket:"cogito-cde5b.appspot.com",messagingSenderId:"179904954165",appId:"1:179904954165:web:f182a9e0fccf24f708167c",measurementId:"G-KZZNVQ4H2C"}),C=(0,b.cF)(N),Z=t(60071),I=t.n(Z),k=t(47384),P=t(62564),q="show-guide-modal",T=h()(function(){return Promise.all([t.e(522),t.e(44)]).then(t.bind(t,57044))},{ssr:!1,loading:function(){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(m.Z,{height:100})})},loadableGenerated:{webpack:function(){return[57044]}}}),z=h()(function(){return Promise.all([t.e(522),t.e(621)]).then(t.bind(t,82621))},{ssr:!1,loading:function(){return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(m.Z,{count:4})})},loadableGenerated:{webpack:function(){return[82621]}}});function B(){var e=(0,o.useRouter)(),n=(0,i.useState)(""),t=n[0],a=n[1],c=(0,i.useState)([]),u=c[0],f=c[1],h=(0,i.useState)(""),m=h[0],w=h[1],_=(0,i.useState)(0),y=_[0],N=_[1],Z=(0,r.Zl)(x.b),B=(0,r.Zl)(x.e),L=function(e){e.preventDefault();var n=e.target.files;if(console.log("files"),!n)return null;var t=(0,b.iH)(C,"files/".concat(n[0].name));(0,b.B0)(t,n[0]).on("state_changed",function(e){var n=Math.round(e.bytesTransferred/e.totalBytes*100);console.log("snapshot : ",e),N(n)},function(e){alert("upload has been canceled"),console.log(e)},function(){e.target.value="",(0,b.Jt)(t).then(function(e){console.log("File available at",e),f([].concat((0,l.Z)(u),[e]))})})};(0,i.useEffect)(function(){(0,k.St)(q)||(M(),(0,k.D9)(q,"true"))},[]);var O,M=function(){B({component:(0,j.jsx)(v,{}),title:"Guide",closeCallBack:function(){},config:{size:"lg",closeButton:!0,centered:!1}}),Z(!0)},R=function(){window.confirm("글 작성을 취소하시겠습니까? 작성된 내용은 저장되지 않습니다.")&&e.back()},U=(O=(0,s.Z)(p().mark(function n(){var o;return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,P.qb)(m,null!=t?t:"",u,[]);case 2:n.sent&&e.push("/");case 4:case"end":return n.stop()}},n)})),function(){return O.apply(this,arguments)}),X=function(){U()},A=function(e){w(e.target.value)};return(0,j.jsxs)(J,{children:[(0,j.jsx)(H,{children:"질문 글 작성하기"}),(0,j.jsx)(D,{type:"text",value:m,placeholder:"제목을 입력하세요",onChange:A}),(0,j.jsx)(T,{style:{width:"100%"},preview:"edit",value:t,onChange:a,previewOptions:{}}),(0,j.jsx)(G,{children:"⬇ 아래에 미리보기가 나옵니다"}),(0,j.jsx)(z,{style:{width:"100%",backgroundColor:"transparent",fontSize:"0.95rem",color:"#6f7d95",lineHeight:"1.4rem"},source:t}),(0,j.jsxs)(E,{children:[(0,j.jsx)(G,{children:"⇪ 이미지 첨부 (최대 5개)"}),(0,j.jsx)(F,{type:"file",accept:"image/*",onChange:L}),(0,j.jsx)(d.Z,{now:y,label:"".concat(y,"%")}),(0,j.jsx)(S,{children:u.map(function(e,n){return(0,j.jsxs)(W,{onClick:function(){return f(u.filter(function(e,t){return t!==n}))},children:[(0,j.jsx)(I(),{src:e,alt:"upload",width:120,height:120}),"x"]},e)})})]}),(0,j.jsxs)(K,{children:[(0,j.jsx)(g.Z,{variant:"outline-secondary",size:"lg",onClick:R,children:"취소"}),(0,j.jsx)(g.Z,{variant:"primary",size:"lg",onClick:X,children:"제출하기"})]})]})}var S=w.ZP.div.withConfig({displayName:"NewTemplate__FilesWrapper",componentId:"sc-1j5coaq-0"})(["display:flex;gap:10px;margin-top:1rem;"]),W=w.ZP.div.withConfig({displayName:"NewTemplate__FileWrapper",componentId:"sc-1j5coaq-1"})(["cursor:pointer;color:transparent;&:hover{color:black;}"]),D=w.ZP.input.withConfig({displayName:"NewTemplate__TitleInput",componentId:"sc-1j5coaq-2"})(["width:100%;height:2rem;padding-left:0.5rem;border:1px solid lightgray;outline:none;font-size:0.9rem;"]),F=w.ZP.input.withConfig({displayName:"NewTemplate__UploadInput",componentId:"sc-1j5coaq-3"})(["font-size:0.95rem;margin-bottom:1rem;cursor:pointer;"]),E=w.ZP.div.withConfig({displayName:"NewTemplate__UploadWrapper",componentId:"sc-1j5coaq-4"})(["width:100%;margin-top:24px;"]),G=w.ZP.p.withConfig({displayName:"NewTemplate__SubText",componentId:"sc-1j5coaq-5"})(["font-size:0.8rem;color:#517495;text-align:center;margin:20px 0;"]),H=w.ZP.p.withConfig({displayName:"NewTemplate__Title",componentId:"sc-1j5coaq-6"})(["font-size:1.5rem;font-weight:600;text-align:left;width:100%;"]),J=w.ZP.div.withConfig({displayName:"NewTemplate__Wrapper",componentId:"sc-1j5coaq-7"})(["color:#303d62;width:100%;padding:30px;display:flex;flex-direction:column;align-items:center;gap:20px;"]),K=w.ZP.div.withConfig({displayName:"NewTemplate__ButtonWrapper",componentId:"sc-1j5coaq-8"})(["display:flex;gap:12px;"]);function L(){var e=(0,o.useRouter)(),n=(0,r.sJ)(a.K);return(0,i.useEffect)(function(){n.userId||(window.alert("로그인이 필요합니다"),e.back())},[]),(0,j.jsx)(B,{})}L.getLayout=function(e){return(0,j.jsx)(c.Z,{children:e})}},62564:function(e,n,t){"use strict";t.d(n,{Bh:function(){return l},Jq:function(){return i},n9:function(){return s},qb:function(){return a},tz:function(){return c},u_:function(){return r}});var o=t(73380),i=function(e){var n=e.query,t=e.page;return o.We.get("/posts",{params:{query:n,page:t}}).then(function(e){return null==e?void 0:e.data})},r=function(e){return o.We.get("/posts/".concat(e)).then(function(e){return null==e?void 0:e.data})},a=function(e,n,t,i){return o.D2.post("/posts",{title:e,content:n,files:t,tags:i}).then(function(e){return null==e?void 0:e.data})},c=function(e){return o.D2.delete("/posts/".concat(e))},s=function(e){return o.D2.patch("/posts/".concat(e,"/like"))},l=function(e){return o.D2.patch("/posts/".concat(e,"/dislike"))}},10877:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/new",function(){return t(30766)}])}},function(e){e.O(0,[570,217,25,253,1,774,888,179],function(){return e(e.s=10877)}),_N_E=e.O()}]);