(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[85],{3003:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return S},default:function(){return E}});var r=t(62083),o=t(82394),i=t(63391),a=t(62564),s=function(e){var n=e.query,t=e.page;return(0,i.a)(["usePostsQuery",n,t],function(){return(0,a.Jq)({query:n,page:t})})},c=t(9518),u=t(12691),l=t.n(u),d=t(27439),p=t(28598);function f(e){var n,t=e.post;return(0,p.jsxs)(h,{children:[(0,p.jsx)(l(),{href:"/questions/".concat(t.postId),passHref:!0,children:(0,p.jsx)(v,{children:t.title})}),(0,p.jsx)(m,{children:t.content}),(0,p.jsxs)(g,{children:[t.tags.map(function(e,n){return(0,p.jsx)(d.Z,{bg:"secondary",children:e},n)}),(0,p.jsxs)(x,{children:[(0,p.jsxs)("span",{children:[(n=t.score)>=50?"\uD83E\uDD47":n>=30?"\uD83E\uDD48":"\uD83E\uDD49"," ",t.nickname]})," ",t.createdAt]})]})]})}var h=c.ZP.div.withConfig({displayName:"PostListItem__Wrapper",componentId:"sc-1e1x6a4-0"})(["width:100%;border-top:1px solid lightgray;padding:24px 6px 24px 32px;"]),v=c.ZP.a.withConfig({displayName:"PostListItem__Title",componentId:"sc-1e1x6a4-1"})(["font-weight:bold;font-size:1.55rem;color:#0d6efd;"]),m=c.ZP.p.withConfig({displayName:"PostListItem__Content",componentId:"sc-1e1x6a4-2"})(["margin:6px 0;"]),g=c.ZP.div.withConfig({displayName:"PostListItem__BadgeWrapper",componentId:"sc-1e1x6a4-3"})(["display:flex;gap:4px;position:relative;"]),x=c.ZP.p.withConfig({displayName:"PostListItem__Date",componentId:"sc-1e1x6a4-4"})(["position:absolute;right:0;color:gray;"]),y=t(20185),j=t(63588),b=t.n(j),_=t(82684),w=t(38);let P=_.forwardRef(({bsPrefix:e,size:n,vertical:t,className:r,as:o="div",...i},a)=>{let s=(0,w.vE)(e,"btn-group"),c=s;return t&&(c=`${s}-vertical`),(0,p.jsx)(o,{...i,ref:a,className:b()(r,c,n&&`${s}-${n}`)})});P.displayName="ButtonGroup",P.defaultProps={vertical:!1,role:"group"};let N=()=>void 0,T=_.forwardRef(({bsPrefix:e,name:n,className:t,checked:r,type:o,onChange:i,value:a,disabled:s,id:c,inputRef:u,...l},d)=>(e=(0,w.vE)(e,"btn-check"),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("input",{className:e,name:n,type:o,value:a,ref:u,autoComplete:"off",checked:!!r,disabled:!!s,onChange:i||N,id:c}),(0,p.jsx)(y.Z,{...l,ref:d,className:b()(t,s&&"disabled"),type:void 0,role:void 0,as:"label",htmlFor:c})]})));T.displayName="ToggleButton";var q=t(75797),k=t(34376);function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach(function(n){(0,o.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function O(){var e,n,t,r,o=(0,k.useRouter)(),i=(0,_.useState)(null!==(e=null===(n=o.query)||void 0===n?void 0:n.query)&&void 0!==e?e:""),a=i[0],c=i[1],u=(0,_.useState)(null!==(t=o.query)&&void 0!==t&&t.page?Number(null===(r=o.query)||void 0===r?void 0:r.page):0),l=u[0],d=u[1];(0,_.useEffect)(function(){var e,n,t,r,i=null!==(e=null===(n=o.query)||void 0===n?void 0:n.query)&&void 0!==e?e:"",a=null!==(t=o.query)&&void 0!==t&&t.page?Number(null===(r=o.query)||void 0===r?void 0:r.page):0;c(i),d(a)},[o.query]);var h=s({query:a,page:l}),v=h.data,m=h.isLoading,g=(0,_.useState)("1"),x=g[0],j=g[1];if(m||!v)return(0,p.jsx)(p.Fragment,{children:"Loading..."});var b=v.posts;return(0,p.jsxs)(I,{children:[(0,p.jsx)(q.ZP,{title:"Questions",component:(0,p.jsx)("div",{style:{textAlign:"right"},children:(0,p.jsx)(y.Z,{variant:"primary",href:"/new",children:"+ 새 질문 생성하기"})})}),(0,p.jsx)("div",{children:(0,p.jsx)(P,{children:[{name:"정확도순",value:"1"},{name:"최신순",value:"2"},{name:"Radio",value:"3"}].map(function(e,n){return(0,p.jsx)(T,{id:"radio-".concat(n),type:"radio",variant:"outline-primary",name:"radio",value:e.value,checked:x===e.value,onChange:function(e){return j(e.currentTarget.value)},children:e.name},n)})})}),(0,p.jsxs)("div",{children:[(0,p.jsx)(D,{children:b&&b.map(function(e,n){return(0,p.jsx)(f,{post:e},n)})}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-sm-12 col-md-5",children:(0,p.jsx)("div",{className:"dataTables_info",id:"dataTable_info",role:"status","aria-live":"polite",children:"Showing 1 to 10 of 57 entries"})}),(0,p.jsx)("div",{className:"col-sm-12 col-md-7",children:(0,p.jsx)("div",{className:"dataTables_paginate paging_simple_numbers",id:"dataTable_paginate",children:(0,p.jsx)("ul",{className:"pagination",children:["Previous",1,2,3,4,5,6,"Next"].map(function(e,n){return(0,p.jsx)("li",{className:"paginate_button page-item ".concat(l===n?"active":""),onClick:function(){o.push({pathname:"/questions",query:Z(Z({},o.query),{},{page:n})})},children:(0,p.jsx)("a",{href:"#","aria-controls":"dataTable","data-dt-idx":n,tabIndex:n,className:"page-link",children:e})},e)})})})})]})]})]})}var I=c.ZP.div.withConfig({displayName:"HomeTemplate__Wrapper",componentId:"sc-1gz0pha-0"})(["display:flex;flex-direction:column;"]),D=c.ZP.div.withConfig({displayName:"HomeTemplate__BoardListWrapper",componentId:"sc-1gz0pha-1"})(["width:100%;display:flex;flex-direction:column;gap:12px;"]),S=!0;function E(){var e=(0,k.useRouter)();return(0,p.jsxs)("div",{children:[(0,p.jsx)("button",{onClick:function(){return e.push("/login")},children:"로그인 이동 버튼"}),(0,p.jsx)(O,{})]})}E.getLayout=function(e){return(0,p.jsx)(r.Z,{children:e})}},2310:function(e,n,t){"use strict";t.d(n,{_:function(){return i},h:function(){return o}});var r=t(73380),o=function(e,n){return r.D2.get("/auth/".concat(e,"/login/token?code=").concat(n)).then(function(e){return null==e?void 0:e.data})},i=function(){return r.D2.get("/auth/reissue").then(function(e){return null==e?void 0:e.data})}},73380:function(e,n,t){"use strict";t.d(n,{D2:function(){return f},NJ:function(){return v},Rf:function(){return m},We:function(){return h}});var r,o=t(77837),i=t(38860),a=t.n(i),s=t(46392),c=t(92083),u=t.n(c),l=t(73788),d=t(47384),p=t(2310),f=s.ZP.create({baseURL:"".concat("https://dev.cogito.shop","/api"),timeout:3e3,withCredentials:!0,headers:{"Content-type":"application/json"}});f.interceptors.request.use((r=(0,o.Z)(a().mark(function e(n){var t,r,o,i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.ZP.load("refreshToken"),r=(0,d.le)("expiresAt",u()().format("yyyy-MM-DD HH:mm:ss")),!(0>u()(r).diff(u()())&&t&&n.headers)){e.next=9;break}return n.headers.Authorization="Bearer ".concat(t),e.next=6,(0,p._)();case 6:o=e.sent,console.log("-----requestInterceptor reissueToken response : ",o),o&&((0,d.D$)("accessToken",o.accessToken),(0,d.D$)("expiresAt",u()().add(30,"minutes").format("yyyy-MM-DD HH:mm:ss")),l.ZP.save("refreshToken",o.refreshToken,{httpOnly:!0}));case 9:return i=(0,d.le)("accessToken",""),console.log("-----requestInterceptor refreshToken : ",t),console.log("-----requestInterceptor accessToken : ",i),n.headers&&i&&(n.headers.Authorization="Bearer ".concat(i)),e.abrupt("return",n);case 14:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})),f.interceptors.response.use(function(e){return e},function(e){var n,t,r,o,i;["A008","A011","A012","A013"].includes(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.code)&&(l.ZP.remove("refreshToken"),null==globalThis||globalThis.localStorage.clear()),console.log("csr axios error : ",e),window.alert(null!==(r=null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:i.message)&&void 0!==r?r:null==e?void 0:e.message)});var h=s.ZP.create({baseURL:"".concat("https://dev.cogito.shop","/api"),timeout:3e3,withCredentials:!0,headers:{"Content-type":"application/json"}});h.interceptors.response.use(function(e){return e},function(e){throw console.log("ssr axios error : ",e),Error(e)});var v=function(){return f.get("/tags").then(function(e){return null==e?void 0:e.data})},m=function(){return f.get("/users").then(function(e){return null==e?void 0:e.data})}},62564:function(e,n,t){"use strict";t.d(n,{Jq:function(){return o},YO:function(){return s},qb:function(){return a},u_:function(){return i}});var r=t(73380),o=function(e){var n=e.query,t=e.page;return r.We.get("/posts",{params:{query:n,page:t}}).then(function(e){return null==e?void 0:e.data})},i=function(e){return r.We.get("/posts/".concat(e)).then(function(e){return null==e?void 0:e.data})},a=function(e){return r.D2.post("/posts",e).then(function(e){return null==e?void 0:e.data})},s=function(e,n){return r.D2.patch("/posts/".concat(e),n)}},75797:function(e,n,t){"use strict";t.d(n,{ZP:function(){return i}});var r=t(9518),o=t(28598);function i(e){var n=e.title,t=e.content,r=e.component;return(0,o.jsxs)(a,{children:[n&&(0,o.jsx)(s,{children:n}),t&&(0,o.jsx)(c,{children:t}),r]})}var a=r.ZP.div.withConfig({displayName:"TitleSection__Wrapper",componentId:"sc-1yt3agh-0"})(["width:100%;border-top:1px solid lightgray;padding:24px 6px 24px 32px;position:relative;"]),s=r.ZP.p.withConfig({displayName:"TitleSection__Title",componentId:"sc-1yt3agh-1"})(["font-weight:bold;font-size:2.3rem;"]),c=r.ZP.p.withConfig({displayName:"TitleSection__Content",componentId:"sc-1yt3agh-2"})(["margin-top:6px;"])},69814:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/questions",function(){return t(3003)}])}},function(e){e.O(0,[981,217,900,83,774,888,179],function(){return e(e.s=69814)}),_N_E=e.O()}]);