"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{2310:function(e,n,a){a.d(n,{_J:function(){return m},hP:function(){return u},kS:function(){return p}});var r,s=a(77837),t=a(38860),i=a.n(t),o=a(47384),d=a(46392),c=a(73380),l=d.ZP.create({baseURL:"".concat("https://dev.cogito.shop","/api"),timeout:3e3,withCredentials:!0});l.interceptors.request.use((r=(0,s.Z)(i().mark(function e(n){var a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,o.le)("accessToken",""),n.headers&&a&&(n.headers.Authorization="Bearer ".concat(a)),e.abrupt("return",n);case 3:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}));var u=function(e,n){return c.D.get("/auth/".concat(e,"/login/token?code=").concat(n)).then(function(e){return null==e?void 0:e.data})},m=function(){return l.post("/auth/reissue").then(function(e){return null==e?void 0:e.data})},p=function(){return c.D.post("/auth/logout").then(function(){return console.log("로그아웃 되었습니다.")})}},73380:function(e,n,a){a.d(n,{D:function(){return h},W:function(){return x}});var r,s,t=a(77837),i=a(38860),o=a.n(i),d=a(46392),c=a(92083),l=a.n(c),u=a(47384),m=a(2310),p=a(73788),h=d.ZP.create({baseURL:"".concat("https://dev.cogito.shop","/api"),timeout:3e3,withCredentials:!0,headers:{}}),f=(r=(0,t.Z)(o().mark(function e(){var n,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m._J)();case 3:a=e.sent.accessToken,(0,u.D$)("accessToken",a),(0,u.D$)("expiresAt",l()().add(60,"minutes").format("yyyy-MM-DD HH:mm:ss")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),window.localStorage.removeItem("accessToken"),window.localStorage.removeItem("expiresAt");case 13:case"end":return e.stop()}},e,null,[[0,9]])})),function(){return r.apply(this,arguments)});h.interceptors.request.use((s=(0,t.Z)(o().mark(function e(n){var a,r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,u.le)("expiresAt",l()().utc(!0).format("yyyy-MM-DD HH:mm:ss")),!(n.headers&&20>=l()(a).diff(l()(),"minutes"))){e.next=4;break}return e.next=4,f();case 4:return r=(0,u.le)("accessToken",""),n.headers&&r&&(n.headers.Authorization="Bearer ".concat(r)),e.abrupt("return",n);case 7:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})),h.interceptors.response.use(function(e){return e},function(e){var n,a,r,s,t,i,o;if((null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.code)==="A008"){window.alert("로그인이 필요합니다");return}if(["A011","A012"].includes(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.code)){p.ZP.remove("refreshToken"),window.alert("토큰이 만료되어 로그아웃 되었습니다. 다시 로그인 해주세요.");return}console.log("csr axios error : ",e),window.alert(null!==(t=null==e?void 0:null===(i=e.response)||void 0===i?void 0:null===(o=i.data)||void 0===o?void 0:o.message)&&void 0!==t?t:null==e?void 0:e.message)});var x=d.ZP.create({baseURL:"".concat("https://dev.cogito.shop","/api"),timeout:3e3,withCredentials:!0,headers:{"Content-type":"application/json"}});x.interceptors.response.use(function(e){return e},function(e){throw console.log("ssr axios error : ",e),Error(e)})},61951:function(e,n,a){a.d(n,{Z:function(){return ee}});var r=a(10344),s=a(9518),t=a(42783),i=s.ZP.div.withConfig({displayName:"style__Wrapper",componentId:"sc-pxs50q-0"})(["display:flex;"]),o=s.ZP.div.withConfig({displayName:"style__ContentWrapper",componentId:"sc-pxs50q-1"})(["background-color:#f8f9fc;width:100%;overflow-x:hidden;"]),d=s.ZP.div.withConfig({displayName:"style__Content",componentId:"sc-pxs50q-2"})(["flex:1 0 auto;"]),c=s.ZP.div.withConfig({displayName:"style__MainWrapper",componentId:"sc-pxs50q-3"})(["display:flex;"]),l=s.ZP.div.withConfig({displayName:"style__Main",componentId:"sc-pxs50q-4"})(["width:70%;max-width:960px;margin:0 auto;","{width:100%;}"],t.B.tablet),u=(0,r.cn)({key:"navFoldState",default:!0}),m=a(73380),p=function(){return m.D.get("/users/me").then(function(e){return null==e?void 0:e.data})},h=a(39720),f="useUserQuery",x=function(){return(0,h.a)([f],p)},v=a(28598);function w(){return(0,v.jsxs)(g,{children:[(0,v.jsx)(j,{children:"\uD83D\uDD27"}),(0,v.jsx)("span",{style:{fontSize:"0.8rem"},children:"새 기능 오픈 준비중입니다 (뚝딱뚝딱)"})]})}var g=s.ZP.div.withConfig({displayName:"SideWrapper__Wrapper",componentId:"sc-1480gt2-0"})(["background-color:#eef1f7;min-height:100vh;width:350px;min-width:350px;padding:100px 0;text-align:center;","{width:270px;min-width:270px;}","{display:none;}"],t.B.tablet,t.B.mobile),j=s.ZP.div.withConfig({displayName:"SideWrapper__Content",componentId:"sc-1480gt2-1"})(["font-size:6rem;"]);function b(){return(0,v.jsx)("footer",{className:"sticky-footer",children:(0,v.jsx)("div",{className:"container my-auto",children:(0,v.jsx)("div",{className:"copyright text-center my-auto",children:(0,v.jsx)("span",{children:"Copyright 2023 Cogito \xa9 All rights reserved."})})})})}var N=a(77837),y=a(75582),k=a(38860),_=a.n(k),C=a(12691),D=a.n(C),P=a(34376),S=a(82275),Z=a(82684),I=a(74399),T=a(89860),B=a(262),A=a(95786);function L(){var e,n,a,s,t=(0,P.useRouter)(),i=(0,r.FV)(u),o=(0,y.Z)(i,2),d=o[0],c=o[1],l=x().refetch,m=(n=(e=(0,Z.useState)(A.me.mobile))[0],a=e[1],(0,Z.useEffect)(function(){function e(){var e=document.querySelector("html").offsetWidth;return e<A.sO.MOBILE?a(A.me.mobile):e<A.sO.TABLET?a(A.me.tablet):e<A.sO.LAPTOP?a(A.me.laptop):(A.sO.DESKTOP,a(A.me.desktop))}return window.addEventListener("load",e),window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}},[]),n),p=m===A.me.mobile||m===A.me.tablet,h=(s=(0,N.Z)(_().mark(function e(){var n,a,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({queryKey:[f]});case 2:(null==(a=e.sent.data)?void 0:a.userId)?t.push("/new"):window.alert("로그인이 필요합니다");case 6:case"end":return e.stop()}},e)})),function(){return s.apply(this,arguments)}),w=function(e){e.preventDefault(),h()},g=function(){return c(!d)},j=function(e){e.preventDefault(),alert("아직 개발중인 페이지입니다!")};return(0,Z.useEffect)(function(){m===A.Yi.desktop&&c(!1)},[m]),(0,v.jsxs)(E,{className:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion ".concat(d?"toggled":""),id:"accordionSidebar",children:[(0,v.jsx)(D(),{href:"/",passHref:!0,children:(0,v.jsxs)("a",{className:"sidebar-brand d-flex align-items-center justify-content-center",children:[(0,v.jsx)("div",{className:"sidebar-brand-icon rotate-n-15",children:(0,v.jsx)(F,{children:"\uD83D\uDD25"})}),!d&&!p&&(0,v.jsxs)(M,{children:["COGITO ",(0,v.jsx)(H,{children:"0.1v"})]})]})}),(0,v.jsx)("hr",{className:"sidebar-divider my-0"}),(0,v.jsx)(q,{children:(0,v.jsx)(S.Z,{variant:"primary",href:"#",onClick:w,children:"질문하기"})}),(0,v.jsx)("hr",{className:"sidebar-divider"}),(0,v.jsx)("div",{className:"sidebar-heading",children:"페이지"}),(0,v.jsx)("li",{className:"nav-item ".concat("/questions"===t.pathname?"active":""),children:(0,v.jsx)(D(),{href:"/questions",passHref:!0,children:(0,v.jsxs)(z,{className:"nav-link",children:[(0,v.jsx)(O,{isNavFold:d,children:(0,v.jsx)(I.HFe,{})}),(0,v.jsx)(W,{children:"Questions"})]})})}),(0,v.jsx)("li",{className:"nav-item ".concat("/users"===t.pathname?"active":""),children:(0,v.jsx)(D(),{href:"#",children:(0,v.jsxs)(z,{className:"nav-link",href:"#",onClick:j,children:[(0,v.jsx)(O,{isNavFold:d,children:(0,v.jsx)(B.rVC,{})}),(0,v.jsx)(W,{children:"Users"})]})})}),(0,v.jsx)("hr",{className:"sidebar-divider"}),(0,v.jsx)("div",{className:"sidebar-heading",children:"기타기능"}),(0,v.jsx)("li",{className:"nav-item",children:(0,v.jsxs)(z,{className:"nav-link",href:"#",onClick:j,children:[(0,v.jsx)(O,{isNavFold:d,children:(0,v.jsx)(T._WP,{})}),(0,v.jsx)(W,{children:"기타 기능"})]})}),(0,v.jsx)("hr",{className:"sidebar-divider d-none d-md-block"}),(0,v.jsx)("div",{className:"text-center d-none d-md-inline",children:(0,v.jsx)("button",{className:"rounded-circle border-0",id:"sidebarToggle",onClick:g})})]})}var O=s.ZP.div.withConfig({displayName:"SideBar__IconWrapper",componentId:"sc-ae825e-0"})(["font-size:",";display:inline-block;padding-right:",";","{font-size:1.3rem;padding-right:0;}"],function(e){return e.isNavFold?"1.3rem":"1rem"},function(e){return e.isNavFold?"0":"8px"},t.B.tablet),E=s.ZP.ul.withConfig({displayName:"SideBar__Wrapper",componentId:"sc-ae825e-1"})([""]),q=s.ZP.div.withConfig({displayName:"SideBar__ButtonWrapper",componentId:"sc-ae825e-2"})(["height:116px;display:flex;align-items:center;justify-content:center;& > a{background-color:white;color:#303d62;font-size:0.97rem;font-weight:600;width:180px;max-width:80%;height:50px;display:flex;align-items:center;justify-content:center;}"]),W=s.ZP.span.withConfig({displayName:"SideBar__TabLabel",componentId:"sc-ae825e-3"})(["white-space:nowrap;"]),z=s.ZP.a.withConfig({displayName:"SideBar__Tab",componentId:"sc-ae825e-4"})(["display:flex;flex-direction:row;& > span{position:relative;}","{display:inline-block;& > span{left:0;}}"],t.B.tablet),F=s.ZP.span.withConfig({displayName:"SideBar__LogoIcon",componentId:"sc-ae825e-5"})(["font-size:1.8rem;"]),M=s.ZP.div.withConfig({displayName:"SideBar__LogoTitle",componentId:"sc-ae825e-6"})(["margin-left:0.5rem;font-size:1.4rem;font-weight:700;"]),H=s.ZP.sup.withConfig({displayName:"SideBar__LogoSup",componentId:"sc-ae825e-7"})(["font-weight:400;font-size:0.01rem;"]);function K(e){var n,a,r=e.className,s=(0,P.useRouter)(),t=(0,Z.useState)(null!==(n=null===(a=s.query)||void 0===a?void 0:a.query)&&void 0!==n?n:""),i=t[0],o=t[1],d=function(e){o(e.target.value)},c=function(e){if(e.preventDefault(),!i.trim().length){alert("검색어를 입력해 주세요");return}s.push({pathname:"/questions",query:{query:i}})};return(0,v.jsx)("form",{onSubmit:c,className:void 0===r?"":r,children:(0,v.jsxs)("div",{className:"input-group",children:[(0,v.jsx)(R,{value:i,type:"text",className:"form-control bg-light border-0 small",placeholder:"Search for...","aria-label":"Search","aria-describedby":"basic-addon2",onChange:d}),(0,v.jsx)("div",{className:"input-group-append",children:(0,v.jsx)("button",{className:"btn btn-primary",type:"submit",children:(0,v.jsx)("i",{className:"fas fa-search fa-sm"})})})]})})}var R=s.ZP.input.withConfig({displayName:"SearchInput__Input",componentId:"sc-2p15py-0"})([""]),U=a(60071),J=a.n(U),V=a(90990),$=a(2310),Q=a(73788);function Y(){var e,n=(0,Z.useState)(!1),a=n[0],r=n[1],s=(0,Z.useState)(!1),t=s[0],i=s[1],o=x().data,d=!!(null!=o&&o.nickname),c=function(){r(!a)},l=(e=(0,N.Z)(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.kS)();case 2:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),u=function(){l(),Q.ZP.remove("refreshToken"),localStorage.removeItem("accessToken"),window.location.reload()};return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("ul",{className:"navbar-nav ml-auto",children:[(0,v.jsxs)("li",{className:"nav-item dropdown no-arrow d-sm-none ".concat(t?"show":""),children:[(0,v.jsx)("a",{onClick:function(){return i(!t)},className:"nav-link dropdown-toggle",id:"searchDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:(0,v.jsx)("i",{className:"fas fa-search fa-fw"})}),(0,v.jsx)("div",{className:"dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in ".concat(t?"show":""),"aria-labelledby":"searchDropdown",children:(0,v.jsx)(K,{className:"form-inline mr-auto w-100 navbar-search"})})]}),d?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("li",{className:"nav-item dropdown no-arrow mx-1",children:[(0,v.jsx)("a",{className:"nav-link dropdown-toggle",id:"alertsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:(0,v.jsx)("i",{className:"fas fa-bell fa-fw"})}),(0,v.jsxs)("div",{className:"dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in","aria-labelledby":"alertsDropdown",children:[(0,v.jsx)("h6",{className:"dropdown-header",children:"Alerts Center"}),(0,v.jsxs)("a",{className:"dropdown-item d-flex align-items-center",children:[(0,v.jsx)("div",{className:"mr-3",children:(0,v.jsx)("div",{className:"icon-circle bg-primary",children:(0,v.jsx)("i",{className:"fas fa-file-alt text-white"})})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"small text-gray-500",children:"December 12, 2019"}),(0,v.jsx)("span",{className:"font-weight-bold",children:"A new monthly report is ready to download!"})]})]}),(0,v.jsxs)("a",{className:"dropdown-item d-flex align-items-center",children:[(0,v.jsx)("div",{className:"mr-3",children:(0,v.jsx)("div",{className:"icon-circle bg-success",children:(0,v.jsx)("i",{className:"fas fa-donate text-white"})})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"small text-gray-500",children:"December 7, 2019"}),"$290.29 has been deposited into your account!"]})]}),(0,v.jsxs)("a",{className:"dropdown-item d-flex align-items-center",children:[(0,v.jsx)("div",{className:"mr-3",children:(0,v.jsx)("div",{className:"icon-circle bg-warning",children:(0,v.jsx)("i",{className:"fas fa-exclamation-triangle text-white"})})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"small text-gray-500",children:"December 2, 2019"}),"Spending Alert: We ve noticed unusually high spending for your account."]})]}),(0,v.jsx)("a",{className:"dropdown-item text-center small text-gray-500",children:"Show All Alerts"})]})]}),(0,v.jsx)("div",{className:"topbar-divider d-none d-sm-block"}),(0,v.jsxs)("li",{className:"nav-item dropdown no-arrow ".concat(a?" show":""),onClick:c,children:[(0,v.jsxs)("a",{className:"nav-link dropdown-toggle",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":a,children:[(0,v.jsx)("span",{className:"mr-2 d-none d-lg-inline text-gray-600 small",children:o.nickname}),(0,v.jsx)(J(),{className:"img-profile rounded-circle",src:V.Z,alt:"profile-image",width:32,height:32})]}),(0,v.jsxs)("div",{className:"dropdown-menu dropdown-menu-right shadow animated--grow-in ".concat(a?" show":""),"aria-labelledby":"userDropdown",children:[(0,v.jsx)(D(),{href:"/my",passHref:!0,children:(0,v.jsxs)("a",{className:"dropdown-item",children:[(0,v.jsx)("i",{className:"fas fa-user fa-sm fa-fw mr-2 text-gray-400"}),"마이페이지"]})}),(0,v.jsxs)("a",{className:"dropdown-item",onClick:u,"data-toggle":"modal","data-target":"#logoutModal",children:[(0,v.jsx)("i",{className:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"로그아웃"]})]})]})]}):(0,v.jsx)("li",{className:"nav-item",children:(0,v.jsx)(D(),{href:"/login",children:(0,v.jsx)("a",{className:"nav-link dark",children:"로그인"})})})]})})}function G(){var e=(0,r.FV)(u),n=(0,y.Z)(e,2),a=n[0],s=n[1],t=function(){return(0,v.jsx)("button",{id:"sidebarToggleTop",className:"btn btn-link d-md-none rounded-circle mr-3",onClick:function(){return s(!a)},children:(0,v.jsx)("i",{className:"fa fa-bars"})})};return(0,v.jsxs)(X,{className:"navbar navbar-expand navbar-light bg-white topbar static-top shadow",children:[(0,v.jsx)(t,{}),(0,v.jsx)(K,{className:"d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search"}),(0,v.jsx)(Y,{})]})}var X=s.ZP.header.withConfig({displayName:"Header__Wrapper",componentId:"sc-1tvo7e2-0"})([""]);function ee(e){var n=e.children,a=(0,r.sJ)(u);return x(),(0,v.jsxs)(i,{id:"wrapper",className:a?"sidebar-toggled":"",children:[(0,v.jsx)(L,{}),(0,v.jsxs)(o,{id:"content-wrapper",className:"d-flex flex-column",children:[(0,v.jsxs)(d,{id:"content",children:[(0,v.jsx)(G,{}),(0,v.jsxs)(c,{children:[(0,v.jsx)(l,{children:n}),(0,v.jsx)(w,{})]})]}),(0,v.jsx)(b,{})]})]})}},95786:function(e,n,a){a.d(n,{Yi:function(){return s},me:function(){return i},sO:function(){return t}}),(r=s||(s={})).mobile="MOBILE",r.tablet="TABLET",r.laptop="LAPTOP",r.desktop="DESKTOP";var r,s,t={MOBILE:576,TABLET:768,LAPTOP:992,DESKTOP:1200},i={mobile:s.mobile,tablet:s.tablet,laptop:s.laptop,desktop:s.desktop}},42783:function(e,n,a){a.d(n,{B:function(){return t}});var r=a(95786),s=function(e){return"\n  @media (max-width: ".concat(e,"px)\n")},t={tablet:s(r.sO.TABLET),mobile:s(r.sO.MOBILE),desktop:s(r.sO.DESKTOP)}},90990:function(e,n){n.Z={src:"/_next/static/media/undraw_profile.017101fc.svg",height:108,width:108}}}]);